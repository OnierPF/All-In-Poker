<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="favicon.png" type="image/png" sizes="32x32">
  <meta property="og:title" content="All-In Poker">
  <meta property="og:description" content="La plataforma de poker cubana, accesible y realista.">
  <meta property="og:image" content="https://OnierPF.github.io/All-In-Poker/preview.png">
  <title>All-In Poker • Lobby</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/mtt-theme.css">
  <link rel="manifest" href="manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('js/serviceWorker.js');
    }
  </script>
</head>
<body>
  <header class="navbar">
    <div class="logo-wrap">
      <img src="./assets/logo-3d.png" alt="Logo All-In Poker" class="logo">
    </div>
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="torneos.html">Torneos</a>
      <a href="tienda.html">Tienda</a>
      <a href="perfil.html">Perfil</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="contact.html">Contacto</a>
    </nav>
    <button id="toggle-theme">🌙</button>
    <button id="daily-bonus-btn" title="Reclamar bono diario">🎁</button>
    <button id="buy-chips-btn" title="Comprar fichas por CUP">💰</button>
    <button id="mobile-menu-btn">☰</button>
    <select id="lang-select" aria-label="Idioma">
      <option value="es">ES</option>
      <option value="en">EN</option>
    </select>
    <div id="profile-info" style="margin-left:1rem; color: #eee;"></div>
  </header>

  <main id="lobby" class="grid-layout">
    <!-- Sidebar existente -->
    <aside id="sidebar">
      <h2>Filtros</h2>
      <div class="filter-group">
        <label for="filter-type">Tipo de mesa:</label>
        <select id="filter-type">
          <option value="all">Todas</option>
          <option value="cash">Cash</option>
          <option value="tournament">Torneo</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="filter-min-bet">Apuesta mínima:</label>
        <input type="range" id="filter-min-bet" min="10" max="1000" step="10" value="10">
        <output id="filter-min-bet-val">10</output>
      </div>
      <button id="apply-filters">Aplicar</button>
      <hr>
      <button id="quick-join">Unirse Rápido</button>
    </aside>
    <div id="sidebar-overlay"></div>

    <!-- NUEVA Sección: Mesas Gratis -->
    <section id="free-tables">
      <h2>Mesas Gratis</h2>
      <template id="free-table-item-tpl">
        <div class="table-card">
          <h3 class="table-title"></h3>
          <p class="table-info"></p>
          <button class="join-free-btn">Entrar Gratis</button>
        </div>
      </template>
    </section>

    <!-- Sección de Mesas de Valor (existente) -->
    <section id="tables">
      <template id="table-item-tpl">
        <div class="table-card">
          <h3 class="table-title"></h3>
          <p class="table-info"></p>
          <button class="join-btn">Unirse</button>
        </div>
      </template>
    </section>
  </main>

  <div id="chat-container"></div>
  <div id="toast-container"></div>

  <!-- Scripts -->
  <script type="module" src="js/utils.js"></script>
  <script type="module" src="js/core/freeTables.js"></script>
  <script type="module" src="js/core/filters.js"></script>
  <script type="module" src="js/core/quickJoin.js"></script>
  <script type="module" src="js/core/timeBank.js"></script>
  <script type="module" src="js/core/countdown.js"></script>
  <script type="module" src="js/core/gameActions.js"></script>
  <script type="module" src="js/core/notifications.js"></script>
  <script type="module" src="js/chat.js"></script>
  <script type="module" src="js/copilot-chat.js"></script>
  <script type="module" src="js/core/analytics.js"></script>
  <script type="module" src="js/core/settingsPanel.js"></script>
  <script type="module" src="js/core/i18n.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const mobileBtn = document.getElementById('mobile-menu-btn');
      const sidebar   = document.getElementById('sidebar');
      const overlay   = document.getElementById('sidebar-overlay');
      mobileBtn.addEventListener('click', () => {
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
      });
      overlay.addEventListener('click', () => {
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
      });
    });
  </script>
</body>
</html>
